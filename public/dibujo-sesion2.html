<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dibujo Colaborativo - Sesi贸n 2</title>
</head>

<body>
  <canvas id="canvas2" width="400" height="600"></canvas>
  <script>
    const canvas2 = document.getElementById('canvas2');
    const ctx2 = canvas2.getContext('2d');
    const drawingSocket2 = new WebSocket('ws://localhost:3000/session2'); // Cambia la direcci贸n y el puerto si es necesario.

    let isDrawing2 = false;
    let lastX2 = 0;
    let lastY2 = 0;

    canvas2.addEventListener('mousedown', startDrawing2);
    canvas2.addEventListener('mousemove', draw2);
    canvas2.addEventListener('mouseup', stopDrawing2);

    function startDrawing2(e) {
      isDrawing2 = true;
      [lastX2, lastY2] = [e.offsetX, e.offsetY];
    }

    function draw2(e) {
      if (!isDrawing2) return;

      ctx2.beginPath();
      ctx2.moveTo(lastX2, lastY2);
      ctx2.lineTo(e.offsetX, e.offsetY);
      ctx2.stroke();

      // Enviar los trazos al servidor WebSocket (Sesi贸n de Dibujo 2)
      const message = {
        type: 'draw',
        data: {
          session: 'session2', // Identifica la sesi贸n de dibujo
          startX: lastX2,
          startY: lastY2,
          endX: e.offsetX,
          endY: e.offsetY,
        },
      };
      drawingSocket2.send(JSON.stringify(message));

      [lastX2, lastY2] = [e.offsetX, e.offsetY];
    }

    function stopDrawing2() {
      isDrawing2 = false;
    }
  </script>
</body>

</html>